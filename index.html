<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For You ‚ù§Ô∏è</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #fdeff9, #ecf2ff);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Helvetica Neue", Arial, sans-serif;
      overflow: hidden;
    }

    .lock, .container {
      text-align: center;
      animation: fadeIn 1.2s ease;
      max-width: 92%;
    }

    .emoji { font-size: 42px; margin-bottom: 14px; }
    .title { font-size: 24px; font-weight: 500; }
    .sub { margin-top: 10px; font-size: 16px; opacity: 0.65; }

    .typewriter {
      font-size: 26px;
      line-height: 1.5;
      white-space: pre-line;
      margin-bottom: 28px;
    }

    .btn {
      padding: 12px 24px;
      border-radius: 30px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      background: #ff8fab;
      color: white;
    }

    .slideshow img {
      width: 100%;
      max-height: 60vh;
      object-fit: contain;
      border-radius: 18px;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .slideshow img.show { opacity: 1; }

    .caption {
      margin-top: 14px;
      font-size: 16px;
      opacity: 0.85;
      min-height: 38px;
    }

    .final {
      font-size: 24px;
      line-height: 1.6;
      animation: fadeIn 1.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body>

  <!-- AUDIO (never destroyed) -->
  <audio id="bgMusic" src="music.mp3" preload="auto" loop></audio>

  <!-- APP CONTAINER -->
  <div id="app">
    <div class="lock" onclick="unlock()">
      <div class="emoji">‚ù§Ô∏è</div>
      <div class="title">This is for you</div>
      <div class="sub">Tap when you‚Äôre ready</div>
    </div>
  </div>

  <script>
    const app = document.getElementById("app");
    const music = document.getElementById("bgMusic");

    function unlock() {
      // user gesture ‚Üí audio allowed
      music.volume = 0.4;
      music.play().catch(() => {});

      app.innerHTML = `
        <div class="container">
          <div id="msg" class="typewriter"></div>
          <button id="nextBtn" class="btn" style="display:none;">
            See our memories ‚Üí
          </button>
        </div>
      `;

      const text = [
        "üéâ Happy Birthday Anjali,",
        "God bless you beta ‚ù§Ô∏è"
      ];

      let line = 0, char = 0;

      function type() {
        if (line < text.length) {
          if (char < text[line].length) {
            document.getElementById("msg").innerHTML += text[line][char++];
            setTimeout(type, 60);
          } else {
            document.getElementById("msg").innerHTML += "\n";
            line++; char = 0;
            setTimeout(type, 500);
          }
        } else {
          document.getElementById("nextBtn").style.display = "inline-block";
          document.getElementById("nextBtn").onclick = showPhotos;
        }
      }

      type();
    }

    function showPhotos() {
      app.innerHTML = `
        <div class="container slideshow">
          <img id="photo" />
          <div id="caption" class="caption"></div>
        </div>
      `;

      const captions = [
        "Khud se story lagae the hum, huh!",
        "Smiling without effort",
        "This day still stays with me",
        "kitni pyari lgti h meri gudiya sote hue",
        "Comfort feels like this",
        "Us being us",
        "Badi badi julfo wali meri betuniya",
        "Meri stylish heroine",
        "Aaayhaaae, dekho to koi, keher dha rhi h meri jaanu",
        "han han thik hai, achi lg rhi ho, aise mtt style maro jaise Anjali ho tum",
        "You in your element",
        "Simple, beautiful moments",
        "Laughter I remember",
        "Always thankful for this",
        "Moments I replay",
        "This one makes me smile",
        "You make days lighter",
        "aap se jada sundar koi mile toh btana, mil hi nhi skta",
        "10th class wali bauwa",
        "Kya hi pose deti h meri kaniya, mnn toh krta utha ke chumma le lein",
        "Still feels warm",
        "Hmko lgta h ki saree aapke liye hi bana tha, kabse wait kr rha tha ki aap pehno aur isko dhanya kro",
        "Itna sundar koi kaise ho skta hai, case kr denge aap pe hum",
        "Forever grateful for you ‚ù§Ô∏è"
      ];

      let index = 0;
      const total = 24;

      const img = document.getElementById("photo");
      const cap = document.getElementById("caption");

      const interval = setInterval(next, 3500);
      next();

      function next() {
        if (index === total) {
          clearInterval(interval);
          showFinal();
          return;
        }

        img.classList.remove("show");
        setTimeout(() => {
          img.src = `photo${index + 1}.jpeg`;
          cap.innerText = captions[index];
          img.onload = () => img.classList.add("show");
          index++;
        }, 400);
      }
    }

    function showFinal() {
      app.innerHTML = `
        <div class="container final">
          This was just a small part<br>
          of how much you mean to me.
          <br><br>
          Happy Birthday, Anjali ‚ù§Ô∏è
        </div>
      `;
    }
  </script>

</body>
</html>
