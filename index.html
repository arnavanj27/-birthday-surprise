<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For You ‚ù§Ô∏è</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #fdeff9, #ecf2ff);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    .screen {
      text-align: center;
      max-width: 92%;
      animation: fadeIn 1.2s ease;
    }

    .emoji { font-size: 42px; margin-bottom: 14px; }
    .title { font-size: 24px; }
    .sub { font-size: 16px; opacity: 0.65; margin-top: 10px; }

    .typewriter {
      font-size: 26px;
      line-height: 1.5;
      white-space: pre-line;
      margin-bottom: 28px;
    }

    .btn {
      padding: 12px 24px;
      border-radius: 30px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      background: #ff8fab;
      color: white;
    }

    .mute {
      position: fixed;
      top: 16px;
      right: 16px;
      background: rgba(255,255,255,0.8);
      border-radius: 50%;
      padding: 10px;
      cursor: pointer;
      font-size: 18px;
    }

    .slideshow img {
      width: 100%;
      max-height: 60vh;
      object-fit: contain;
      border-radius: 18px;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .slideshow img.show { opacity: 1; }
    .caption { margin-top: 14px; font-size: 16px; min-height: 36px; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body>

<!-- AUDIO (must never be removed) -->
<audio id="bgMusic" src="music.mp3" preload="auto"></audio>

<div id="app" class="screen">
  <div class="emoji">‚ù§Ô∏è</div>
  <div class="title">This is for you</div>
  <div class="sub">Tap when you‚Äôre ready</div>
</div>

<script>
  const app = document.getElementById("app");
  const music = document.getElementById("bgMusic");
  let playing = false;

  function toggleMusic() {
    if (playing) {
      music.pause();
      playing = false;
      document.querySelector(".mute").innerText = "üîá";
    } else {
      music.play();
      playing = true;
      document.querySelector(".mute").innerText = "üîä";
    }
  }

  app.onclick = () => {
    music.volume = 0.4;
    music.play();
    playing = true;

    app.innerHTML = `
      <div class="mute" onclick="toggleMusic()">üîä</div>
      <div id="msg" class="typewriter"></div>
      <button id="nextBtn" class="btn" style="display:none;">See our memories ‚Üí</button>
    `;

    const text = [
      "üéâ Happy Birthday Anjali,",
      "God bless you beta ‚ù§Ô∏è"
    ];

    let line = 0, char = 0;

    function type() {
      if (line < text.length) {
        if (char < text[line].length) {
          document.getElementById("msg").innerHTML += text[line][char++];
          setTimeout(type, 60);
        } else {
          document.getElementById("msg").innerHTML += "\n";
          line++; char = 0;
          setTimeout(type, 500);
        }
      } else {
        document.getElementById("nextBtn").style.display = "inline-block";
        document.getElementById("nextBtn").onclick = showPhotos;
      }
    }
    type();
  };

  function showPhotos() {
    const captions = [
      "Our first memory ‚ù§Ô∏è",
      "That smile I fell for",
      "A day I still replay",
      "You make everything lighter",
      "Comfort looks like this",
      "Just us being us",
      "Moments I quietly treasure",
      "You, effortlessly happy",
      "This one still warms my heart",
      "One of my favourite days",
      "You in your element",
      "Simple moments, big meaning",
      "That laugh I remember",
      "Always thankful for this day",
      "A memory I hold close",
      "This made me smile instantly",
      "You make ordinary days special",
      "Moments like these matter",
      "Forever special to me",
      "My calm, my happy place",
      "Still feels just as warm",
      "Always close to my heart",
      "So many memories with you",
      "Forever grateful for you ‚ù§Ô∏è"
    ];

    let index = 0;
    const total = 24;

    app.innerHTML = `
      <div class="mute" onclick="toggleMusic()">üîä</div>
      <div class="slideshow">
        <img id="photo">
        <div id="caption" class="caption"></div>
      </div>
    `;

    const img = document.getElementById("photo");
    const cap = document.getElementById("caption");

    function next() {
      if (index === total) return showFinal();
      img.classList.remove("show");
      setTimeout(() => {
        img.src = \`photo\${index + 1}.jpeg\`;
        cap.innerText = captions[index];
        img.onload = () => img.classList.add("show");
        index++;
      }, 300);
    }

    next();
    setInterval(next, 3500);
  }

  function showFinal() {
    app.innerHTML = `
      <div class="mute" onclick="toggleMusic()">üîä</div>
      <div style="font-size:24px;line-height:1.5">
        This was just a small part<br>
        of how much you mean to me.<br><br>
        Happy Birthday, Anjali ‚ù§Ô∏è
      </div>
    `;
  }
</script>

</body>
</html>
